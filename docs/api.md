## Содержание

* [Содержание](#содержание)
* [Объекты](#объекты)
    * [ChargeData](#chargedata)
    * [PositionData](#positiondata)
    * [Scooter](#scooter)
* [Запросы](#запросы)
    * [Добавление самоката](#добавление-самоката)
    * [Удаление самоката](#удаление-самоката)
    * [Получение самоката](#получение-самоката)
    * [Получение активных самокатов](#получение-активных-самокатов)
    * [Получение данных о заряде самоката](#получение-данных-о-заряде-самоката)
    * [Получение данных о положении самоката](#получение-данных-о-положении-самоката)
    * [Получение модели самоката](#получение-модели-самоката)
    * [Обновление модели самоката](#обновление-модели-самоката)
    * [Получение состояния самоката](#получение-состояния-самоката)
    * [Обновление состояния самоката](#обновление-состояния-самоката)

## Объекты

### ChargeData

**Описание:**

Объект, представляющий данные о заряде самоката.

```text
{
    "recorded_at": String,
    "charge": Float
}
```

**Параметры:**

- `recorded_at` (String): Дата и время, когда были получены данные.
- `charge` (Float): Уровень заряда самоката в диапазоне от 0.0 до 1.0.

### PositionData

**Описание:**

Объект, представляющий данные о положении самоката.

```text
{
    "recorded_at": String,
    "latitude": Float,
    "longitude": Float
}
```

**Параметры:**

- `recorded_at` (String): Дата и время, когда были получены данные.
- `latitude` (Float): Широта положения самоката в диапазоне от -90.0 до 90.0.
- `longitude` (Float): Долгота положения самоката в диапазоне от -180.0 до 180.0.

### Scooter

**Описание:**

Объект, представляющий самокат.

```text
{
    "id": Integer,
    "model": String,
    "state": String,
    "charge_data": ChargeData | Null,
    "position_data": PositionData | Null
}
```

**Параметры:**

- `id` (Integer): Идентификатор самоката.
- `model` (String): Название модели самоката.
- `state` (String): Состояние самоката "Active" или "Inactive".
- `charge_data` ([ChargeData](#chargedata) | Null): Объект, представляющий данные о заряде самоката или Null, если
  данные отсутствуют.
- `position_data` ([PositionData](#positiondata) | Null): Объект, представляющий данные о положении самоката
  или Null, если данные отсутствуют.

## Запросы

### Добавление самоката

**Описание:**

Добавляет новый самокат.

**Запрос:**

```text
POST /scooters
{
    "model": String
    "state": String
}
```

**Параметры:**

- `model` (String): Название модели добавляемого самоката.
- `state` (String): Состояние добавляемого самоката "Active" или "Inactive", по умолчанию "Active".

**Ответ:**

- 201 Created: Самокат успешно создан.
    ```text
    {
        "id": Integer,
        "message": "Scooter created successfully"
    }
    ```
  Параметры:
    - `id` (Integer): Идентификатор добавленного самоката.


- 400 Bad Request: Некорректные данные в запросе.

### Удаление самоката

**Описание:**

Удаляет самокат. Все данные, связанные с этим самокатом, также будут удалены.

**Запрос:**

```text
DELETE /scooters/<id: Integer>
```

**Параметры:**

- `id` (Integer): Идентификатор удаляемого самоката.

**Ответ:**

- 200 OK: Самокат успешно удален.
  ```text
  {
    "message": "Scooter deleted successfully"
  }
  ```

- 404 Not Found: Самокат не найден.

### Получение самоката

**Описание:**

Возвращает самокат.

**Запрос:**

```text
GET /scooters/<id: Integer>
```

**Параметры:**

- `id` (Integer): Идентификатор возвращаемого самоката.

**Ответ:**

- 200 OK: Запрос выполнен успешно.
  ```text
  scooter: Scooter
  ```
  Параметры:
    - `scooter` ([Scooter](#scooter)): Объект, представляющий самокат.


- 400 Bad Request: Некорректные данные в запросе.

### Получение активных самокатов

**Описание:**

Возвращает список активных самокатов.

**Запрос:**

```text
GET /scooters/active
```

**Ответ:**

- 200 OK: Запрос выполнен успешно.
    ```text
    [
      scooter: Scooter,
      ...
    ]
    ```
  Параметры:
    - `scooter` ([`Scooter`](#scooter)): Объект, представляющий самокат.

### Получение данных о заряде самоката

**Описание:**

Возвращает список данных о заряде самоката, отсортированный по убыванию даты и времени добавления данных.

**Запрос:**

```text
GET /scooters/<id: Integer>/charge?limit=<limit: Integer>
```

**Параметры:**

- `id` (Integer): Идентификатор самоката, данные которого необходимо получить.
- `limit` (Integer): Ограничение на количество записей.

**Ответ:**

- 200 OK: Запрос выполнен успешно.
  ```text
  [
    charge_data: ChargeData,
    ...
  ]
  ```
  Параметры:
    - `charge_data` ([`ChargeData`](#chargedata)): Объект, представляющий данные о заряде самоката.


- 404 Not Found: Данные не найдены.

### Получение данных о положении самоката

**Описание:**

Возвращает список данных о положении самоката, отсортированный по убыванию даты и времени добавления данных.

**Запрос:**

```text
GET /scooters/<id: Integer>/position?limit=<limit: Integer>
```

Параметры:

- `id` (Integer): Идентификатор самоката, данные которого необходимо получить.
- `limit` (Integer): Ограничение на количество записей.

**Ответ:**

- 200 OK: Запрос выполнен успешно.
  ```text
  [
    position_data: PositionData,
    ...
  ]
  ```
  Параметры:
    - `position_data` ([`PositionData`](#positiondata)): Объект, представляющий данные о положении самоката.


- 404 Not Found: Данные не найдены.

```shell
curl --location 'http://127.0.0.1:5000/scooters/1'
```

```json
[
  {
    "charge": 0.4464277904972725,
    "recorded_at": "Mon, 13 May 2024 18:32:41 GMT"
  }
]
```

### Получение модели самоката

**Описание:**

Возвращает модель самоката.

**Запрос:**

```text
GET /scooters/<id: Integer>/model
```

Параметры:

- `id`: Идентификатор самоката, модель которого необходимо получить.

**Ответ:**

- 200 OK: Запрос выполнен успешно.
  ```text
  {
    "model": String
  }
  ```
  Параметры:
    - `model`: Название модели самоката.

- 404 Not Found: Данные не найдены.

```shell
curl --location 'http://127.0.0.1:5000/scooters/1'
```

```json
[
  {
    "charge": 0.4464277904972725,
    "recorded_at": "Mon, 13 May 2024 18:32:41 GMT"
  }
]
```

### Обновление модели самоката

**Описание:**

Обновляет состояние самоката.

**Запрос:**

```text
PUT /scooters/<id: Integer>/model
```

**Параметры:**

- `id` (Integer): Идентификатор самоката, модель которого необходимо обновить.

**Ответ:**

- 200 OK: Запрос выполнен успешно.
  ```text
  {
      "message": "Scooters model updated successfully"
  }
  ```

- 404 Not Found: Данные не найдены.

### Получение состояния самоката

**Описание:**

Возвращает состояние самоката.

**Запрос:**

```text
GET /scooters/<id: Integer>/state
```

**Параметры:**

- `id` (Integer): Идентификатор самоката, состояние которого необходимо получить.

**Ответ:**

- 200 OK: Запрос выполнен успешно.
  ```text
  {
      "state": String
  }
  ```
  Параметры:
    - `state` (String): Состояние самоката "Active" или "Inactive".

- 404 Not Found: Данные не найдены.

```shell
curl --location 'http://127.0.0.1:5000/scooters/1'
```

```json
[
  {
    "charge": 0.4464277904972725,
    "recorded_at": "Mon, 13 May 2024 18:32:41 GMT"
  }
]
```

### Обновление состояния самоката

**Описание:**

Обновляет состояние самоката.

**Запрос:**

```text
PUT /scooters/<id: Integer>/state
```

**Параметры:**

- `id` (Integer): Идентификатор самоката, состояние которого необходимо обновить.

**Ответ:**

- 200 OK: Запрос выполнен успешно.
  ```text
  {
      "message": "Scooters state updated successfully"
  }
  ```


- 404 Not Found: Данные не найдены.

 
